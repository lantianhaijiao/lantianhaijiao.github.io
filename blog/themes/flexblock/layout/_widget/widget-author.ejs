<!--
 * @Author: haobin.wang
 * @Date: 2024-02-08 10:22:44
 * @LastEditors: haobin.wang
 * @LastEditTime: 2024-03-19 15:34:08
 * @Description: Do not edit
-->
<section class="widget-author widget-item layout-margin content-padding--primary soft-size--large soft-style--box">
  <div class="widget-body">
    <% if (theme.author.avatar) { %>
      <img src="<%= theme.author.avatar %>" class="soft-size--round soft-style--box personal-avatar" alt="<%= theme.author.name %>">
    <% } %>
    <% if (theme.author.name) { %>
      <h2><%= theme.author.name %></h2>
    <% } %>
    <% if (theme.author.description) { %>
      <p><%= theme.author.description %></p>
    <% } %>

    <div class="count-box">
      <div class="count-box--item">
        <%- partial("../_svg/icon-article.svg") %>
        <span><%= site.posts.length %></span>
      </div>
      <div class="count-box--item">
        <%- partial("../_svg/icon-categories.svg") %>
        <%= site.categories.length %>
      </div>
      <div class="count-box--item">
        <%- partial("../_svg/icon-tags.svg") %>
        <%= site.tags.length %>
      </div>
    </div>
  </div>
</section>
<script src="/js/util.js"></script>
<script>
  const avatar = document.querySelector('.personal-avatar');
  const dbClickHandle = dbClick(function () {
    // console.log('click', avatar.className);
    if (avatar.className.indexOf('shake') == -1) {
      avatar.classList.add('shake');
    }
  });
  avatar.addEventListener('animationend', () => {
    avatar.classList.remove('shake');
  });
  document.querySelector('.personal-avatar').addEventListener('click', dbClickHandle);
</script>